{"version":3,"sources":["webpack:///./src/views/pages/ScenePage.vue?c2ca","webpack:///./src/views/pages/ScenePage.vue?11d1","webpack:///src/views/pages/ScenePage.vue","webpack:///./src/views/pages/ScenePage.vue?bc97","webpack:///./src/views/pages/ScenePage.vue?8613"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","attrs","isLoading","on","$event","staticClass","_v","_s","scenic","ScenicSpotName","RestaurantName","Class1","Phone","OpenTime","Address","Picture","PictureUrl1","PictureUrl2","availableImg","DescriptionDetail","Description","marker","position","options","_l","element","index","key","toggleMapInfo","infoWindowPos","infoWinOpen","infoOptions","item","ID","getRestaurants","RestaurantID","staticRenderFns","name","components","Navbar","Footer","data","methods","getScenicSpot","vm","id","match","code1","$http","getRestaurant","getAuthorizationHeader","ShaObj","setHMACKey","appKey","update","getMarker","layer","response","forEach","e","push","lat","Position","PositionLat","lng","PositionLon","infoText","content","currentIndex","computed","cityTranslate","selectedCity","cityEn","b","a","getRestaurantThree","restaurant","rand","arr","created","$route","params","component","VCard","VCardText","VCardTitle","VCol","VContainer","VImg","VRow"],"mappings":"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","file":"js/chunk-2e6dd8c4.3c6b997f.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScenePage.vue?vue&type=style&index=0&id=62f1202f&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticStyle:{\"max-width\":\"1136px\"}},[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('Navbar'),_c('v-row',{staticClass:\"d-flex flex-no-wrap justify-space-between w-100 mt-6\"},[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('h2',{staticClass:\"font-weight-bold pt-0 pb-8 text-h3\"},[_vm._v(\" \"+_vm._s(_vm.scenic[0].ScenicSpotName || _vm.scenic[0].RestaurantName)+\" \")]),_c('p',{staticClass:\"py-0 text-h4 grey--text\"},[_vm._v(_vm._s(_vm.scenic[0].Class1 || \"其他\"))]),_c('div',{staticClass:\"d-none d-sm-flex flex-column\"},[_c('p',{staticClass:\"py-0 text-body-1\"},[_c('i',{staticClass:\"fas fa-phone-alt grey--text mr-3\"}),_vm._v(_vm._s(_vm.scenic[0].Phone)),_c('span',{staticClass:\"primary--text ml-3\"},[_vm._v(\"撥打電話\")])]),_c('p',{staticClass:\"py-0 text-body-1\"},[_c('i',{staticClass:\"fas fa-clock grey--text mr-3\"}),_vm._v(_vm._s(_vm.scenic[0].OpenTime)+\" \")]),_c('p',{staticClass:\"py-0 text-body-1\"},[_c('i',{staticClass:\"fas fa-map-marker-alt mr-1 grey--text mr-3\"}),_vm._v(_vm._s(_vm.scenic[0].Address)+\" \")])])]),_c('v-col',{staticClass:\"d-flex d-sm-none\",attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('v-img',{staticClass:\"rounded-lg\",attrs:{\"height\":\"300px\",\"src\":_vm.scenic[0].Picture.PictureUrl1 ||\n             _vm.scenic[0].Picture.PictureUrl2 || _vm.availableImg}})],1),_c('v-col',{staticClass:\"d-flex d-sm-none flex-column\",attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('p',{staticClass:\"py-0 text-body-1\"},[_c('i',{staticClass:\"fas fa-phone-alt grey--text mr-3\"}),_vm._v(_vm._s(_vm.scenic[0].Phone)),_c('span',{staticClass:\"primary--text ml-3\"},[_vm._v(\"撥打電話\")])]),_c('p',{staticClass:\"py-0 text-body-1\"},[_c('i',{staticClass:\"fas fa-clock grey--text mr-3\"}),_vm._v(_vm._s(_vm.scenic[0].OpenTime)+\" \")]),_c('p',{staticClass:\"py-0 text-body-1\"},[_c('i',{staticClass:\"fas fa-map-marker-alt mr-1 grey--text mr-3\"}),_vm._v(_vm._s(_vm.scenic[0].Address)+\" \")])]),_c('v-col',{staticClass:\"d-none d-sm-flex\",attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('v-img',{staticClass:\"rounded-lg\",attrs:{\"height\":\"300px\",\"src\":_vm.scenic[0].Picture.PictureUrl1 ||\n             _vm.scenic[0].Picture.PictureUrl2 || _vm.availableImg}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('h3',{staticClass:\"text-h4 font-weight-bold mb-6\"},[_vm._v(\"景點介紹\")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.scenic[0].DescriptionDetail || _vm.scenic[0].Description)+\" \")])])],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('h3',{staticClass:\"text-h4 font-weight-bold mb-6\"},[_vm._v(\"地圖\")])]),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('GmapMap',{staticStyle:{\"width\":\"100%\",\"height\":\"600px\"},attrs:{\"center\":_vm.marker[0].position,\"zoom\":12,\"options\":_vm.options}},[_vm._l((_vm.marker),function(element,index){return _c('GmapMarker',{key:index,attrs:{\"position\":element.position,\"clickable\":true,\"draggable\":false},on:{\"click\":function($event){return _vm.toggleMapInfo(element, index)}}})}),_c('GmapInfoWindow',{attrs:{\"position\":_vm.infoWindowPos,\"opened\":_vm.infoWinOpen,\"options\":_vm.infoOptions},on:{\"closeclick\":function($event){_vm.infoWinOpen = false}}})],2)],1)],1),_c('v-row',{staticClass:\"mt-16 mb-13\"},[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"12\"}},[_c('h3',{staticClass:\"text-h4 font-weight-bold\"},[_vm._v(\"附近餐飲\")])]),_vm._l((_vm.getRestaurantThree),function(item){return _c('v-col',{key:item.ID,attrs:{\"cols\":\"12\",\"sm\":\"4\"}},[_c('v-card',{staticClass:\"rounded-lg\",attrs:{\"outlined\":\"\",\"height\":\"400px\"},on:{\"click\":function($event){return _vm.getRestaurants(item.RestaurantID)}}},[_c('v-img',{attrs:{\"src\":item.Picture.PictureUrl1 || item.Picture.PictureUrl2 || _vm.availableImg,\"height\":\"250px\"}}),_c('v-card-text',{staticClass:\"primary--text py-2\"},[_vm._v(\"餐飲\")]),_c('v-card-title',{staticClass:\"font-weight-bold pt-0 pb-8 text-h5\"},[_vm._v(\" \"+_vm._s(item.RestaurantName)+\" \")]),_c('v-card-text',{staticClass:\"py-0 text-body-1\"},[_c('i',{staticClass:\"fas fa-map-marker-alt mr-1\"}),_vm._v(_vm._s(item.Address)+\" \")])],1)],1)})],2),_c('Footer')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container style=\"max-width: 1136px\">\r\n    <loading :active.sync=\"isLoading\"></loading>\r\n    <Navbar></Navbar>\r\n    <v-row class=\"d-flex flex-no-wrap justify-space-between w-100 mt-6\">\r\n      <v-col cols=\"12\"\r\n             sm=\"6\">\r\n        <h2 class=\"font-weight-bold pt-0 pb-8 text-h3\">\r\n          {{ scenic[0].ScenicSpotName || scenic[0].RestaurantName }}\r\n        </h2>\r\n        <p class=\"py-0 text-h4 grey--text\">{{ scenic[0].Class1 || \"其他\" }}</p>\r\n        <!-- vp > 600px 顯示 呈現文左圖右 -->\r\n        <div class=\"d-none d-sm-flex flex-column\">\r\n          <p class=\"py-0 text-body-1\">\r\n            <i class=\"fas fa-phone-alt grey--text mr-3\"></i>{{ scenic[0].Phone\r\n            }}<span class=\"primary--text ml-3\">撥打電話</span>\r\n          </p>\r\n          <p class=\"py-0 text-body-1\">\r\n            <i class=\"fas fa-clock grey--text mr-3\"></i>{{ scenic[0].OpenTime }}\r\n          </p>\r\n          <p class=\"py-0 text-body-1\">\r\n            <i class=\"fas fa-map-marker-alt mr-1 grey--text mr-3\"></i>{{ scenic[0].Address }}\r\n          </p>\r\n        </div>\r\n      </v-col>\r\n      <!-- vp > 600px 不顯示, 當<600px時 呈現標題-圖-資訊 -->\r\n      <v-col cols=\"12\"\r\n             sm=\"6\"\r\n             class=\"d-flex d-sm-none\">\r\n        <v-img class=\"rounded-lg\"\r\n               height=\"300px\"\r\n               :src=\"scenic[0].Picture.PictureUrl1 ||\r\n               scenic[0].Picture.PictureUrl2 || availableImg\">\r\n        </v-img>\r\n      </v-col>\r\n      <v-col cols=\"12\"\r\n             sm=\"6\"\r\n             class=\"d-flex d-sm-none flex-column\">\r\n        <p class=\"py-0 text-body-1\">\r\n          <i class=\"fas fa-phone-alt grey--text mr-3\"></i>{{ scenic[0].Phone\r\n          }}<span class=\"primary--text ml-3\">撥打電話</span>\r\n        </p>\r\n        <p class=\"py-0 text-body-1\">\r\n          <i class=\"fas fa-clock grey--text mr-3\"></i>{{ scenic[0].OpenTime }}\r\n        </p>\r\n        <p class=\"py-0 text-body-1\">\r\n          <i class=\"fas fa-map-marker-alt mr-1 grey--text mr-3\"></i>{{ scenic[0].Address }}\r\n        </p>\r\n      </v-col>\r\n      <!-- vp > 600px 顯示 呈現文左圖右 -->\r\n      <v-col cols=\"12\"\r\n             sm=\"6\"\r\n             class=\"d-none d-sm-flex\">\r\n        <v-img class=\"rounded-lg\"\r\n               height=\"300px\"\r\n               :src=\"scenic[0].Picture.PictureUrl1 ||\r\n               scenic[0].Picture.PictureUrl2 || availableImg\">\r\n        </v-img>\r\n      </v-col>\r\n    </v-row>\r\n    <v-row>\r\n      <v-col cols=\"12\">\r\n        <h3 class=\"text-h4 font-weight-bold mb-6\">景點介紹</h3>\r\n        <p>\r\n          {{ scenic[0].DescriptionDetail || scenic[0].Description }}\r\n        </p>\r\n      </v-col>\r\n    </v-row>\r\n    <v-row>\r\n      <v-col cols=\"12\">\r\n        <h3 class=\"text-h4 font-weight-bold mb-6\">地圖</h3>\r\n      </v-col>\r\n      <v-col cols=\"12\">\r\n        <GmapMap :center=\"marker[0].position\"\r\n                 :zoom=\"12\"\r\n                 :options=\"options\"\r\n                 style=\"width: 100%; height: 600px\">\r\n          <GmapMarker v-for=\"(element, index) in marker\"\r\n                      :key=\"index\"\r\n                      :position=\"element.position\"\r\n                      :clickable=\"true\"\r\n                      :draggable=\"false\"\r\n                      @click=\"toggleMapInfo(element, index)\" />\r\n          <GmapInfoWindow :position=\"infoWindowPos\"\r\n                          :opened=\"infoWinOpen\"\r\n                          :options=\"infoOptions\"\r\n                          @closeclick=\"infoWinOpen = false\" />\r\n        </GmapMap>\r\n      </v-col>\r\n    </v-row>\r\n    <v-row class=\"mt-16 mb-13\">\r\n      <v-col cols=\"12\"\r\n             sm=\"12\">\r\n        <h3 class=\"text-h4 font-weight-bold\">附近餐飲</h3>\r\n      </v-col>\r\n      <v-col cols=\"12\"\r\n             sm=\"4\"\r\n             v-for=\"item in getRestaurantThree\"\r\n             :key=\"item.ID\">\r\n        <v-card @click=\"getRestaurants(item.RestaurantID)\"\r\n                class=\"rounded-lg\"\r\n                outlined\r\n                height=\"400px\">\r\n          <v-img :src=\"item.Picture.PictureUrl1 || item.Picture.PictureUrl2 || availableImg\"\r\n                 height=\"250px\"></v-img>\r\n          <v-card-text class=\"primary--text py-2\">餐飲</v-card-text>\r\n          <v-card-title class=\"font-weight-bold pt-0 pb-8 text-h5\">\r\n            {{ item.RestaurantName }}\r\n          </v-card-title>\r\n          <v-card-text class=\"py-0 text-body-1\">\r\n            <i class=\"fas fa-map-marker-alt mr-1\"></i>{{ item.Address }}\r\n          </v-card-text>\r\n        </v-card>\r\n      </v-col>\r\n    </v-row>\r\n    <Footer></Footer>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport JsSHA from 'jssha';\r\nimport Navbar from '../Navbar.vue';\r\nimport Footer from '../Footer.vue';\r\n\r\nexport default {\r\n  name: 'scenePage',\r\n  components: {\r\n    Navbar,\r\n    Footer,\r\n  },\r\n  data: () => ({\r\n    id: '',\r\n    scenic: {},\r\n    restaurant: [],\r\n    selectedCity: '',\r\n    availableImg: 'https://picsum.photos/200/200/?random=4',\r\n    isLoading: false,\r\n    options: {\r\n      mapTypeControl: false,\r\n      scaleControl: false,\r\n      streetViewControl: false,\r\n      fullscreenControl: false,\r\n      disableDefaultUI: false,\r\n      scrollwheel: true,\r\n      clickableIcons: true,\r\n    },\r\n    marker: [],\r\n    infoWindowPos: null,\r\n    infoWinOpen: false,\r\n    currentIndex: null,\r\n    infoOptions: {\r\n      maxWidth: 300,\r\n      content: '',\r\n      pixelOffset: {\r\n        width: 0,\r\n        height: -40,\r\n      },\r\n    },\r\n  }),\r\n  methods: {\r\n    getScenicSpot() {\r\n      const vm = this;\r\n      const api1 = `https://ptx.transportdata.tw/MOTC/v2/Tourism/ScenicSpot?$filter=ScenicSpotID%20eq%20'${vm.id}'&$top=30&$format=JSON`;\r\n      const api2 = `https://ptx.transportdata.tw/MOTC/v2/Tourism/Restaurant?$filter=RestaurantID%20eq%20'${vm.id}'&$top=30&$format=JSON`;\r\n      const code1 = /C1_\\w+/;\r\n      const code2 = /C3_\\w+/;\r\n      vm.isLoading = true;\r\n      if (vm.id.match(code1)) {\r\n        vm.$http\r\n          .get(api1, { headers: vm.getAuthorizationHeader() })\r\n          .then((response) => {\r\n            vm.scenic = response.data;\r\n            vm.getMarker(response, 2);\r\n            vm.selectedCity = response.data[0].City;\r\n            vm.getRestaurant();\r\n          });\r\n      } else if (vm.id.match(code2)) {\r\n        vm.$http\r\n          .get(api2, { headers: vm.getAuthorizationHeader() })\r\n          .then((response) => {\r\n            vm.scenic = response.data;\r\n            vm.getMarker(response, 2);\r\n            vm.selectedCity = response.data[0].City;\r\n            vm.getRestaurant();\r\n          });\r\n      }\r\n    },\r\n    getRestaurant() {\r\n      const vm = this;\r\n      const api = `https://ptx.transportdata.tw/MOTC/v2/Tourism/Restaurant${vm.cityTranslate}?$format=JSON`;\r\n      const regex = /[0-9]/gi;\r\n      const addressSpot = vm.scenic[0].Address.replace(vm.selectedCity, '')\r\n        .replace(regex, '')\r\n        .slice(0, 3);\r\n      vm.$http\r\n        .get(api, { headers: vm.getAuthorizationHeader() })\r\n        .then((response) => {\r\n          response.data.forEach((e) => {\r\n            if (e.Address.includes(addressSpot)) {\r\n              vm.restaurant.push(e);\r\n            } else {\r\n              vm.restaurant.push(e);\r\n            }\r\n          });\r\n          vm.isLoading = false;\r\n        });\r\n    },\r\n    getRestaurants(id) {\r\n      const api = `https://ptx.transportdata.tw/MOTC/v2/Tourism/Restaurant?$filter=RestaurantID%20eq%20'${id}'&$format=JSON`;\r\n      const vm = this;\r\n      vm.$http\r\n        .get(api, { headers: vm.getAuthorizationHeader() })\r\n        .then((response) => {\r\n          vm.scenic = response.data;\r\n          window.scrollTo({\r\n            top: 0,\r\n            behavior: 'smooth',\r\n          });\r\n          vm.$router.push(`/scenePage/${id}`).catch(() => {});\r\n        });\r\n    },\r\n    getAuthorizationHeader() {\r\n      const appID = '4f650471c3a946078042df58395fa922';\r\n      const appKey = 'rMjx-NyfKoXX93I7ZTe59VjoEPM';\r\n      const GMTString = new Date().toGMTString();\r\n      const ShaObj = new JsSHA('SHA-1', 'TEXT');\r\n      ShaObj.setHMACKey(appKey, 'TEXT');\r\n      ShaObj.update(`x-date: ${GMTString}`);\r\n      const HMAC = ShaObj.getHMAC('B64');\r\n      const authorization = 'hmac username=\"'\r\n      + appID\r\n      + '\", algorithm=\"hmac-sha1\", headers=\"x-date\", signature=\"'\r\n      + HMAC + '\"';\r\n      return { Authorization: authorization, 'x-date': GMTString };\r\n    },\r\n    getMarker(response, layer = 1) {\r\n      const vm = this;\r\n      if (layer === 2) {\r\n        response.data.forEach((e) => {\r\n          if (e.ScenicSpotName) {\r\n            vm.marker.push({\r\n              position: {\r\n                lat: e.Position.PositionLat,\r\n                lng: e.Position.PositionLon,\r\n              },\r\n              infoText: `<h3 class=\"primary--text mb-1\">${e.ScenicSpotName}</h1>\r\n                        <p class=\"mb-0\">地址： ${e.Address}</p>\r\n                        <p class=\"mb-0\">營業時間： ${e.OpenTime}</p>`,\r\n            });\r\n          } else {\r\n            vm.marker.push({\r\n              position: {\r\n                lat: e.Position.PositionLat,\r\n                lng: e.Position.PositionLon,\r\n              },\r\n              infoText: `<h3 class=\"primary--text mb-1\">${e.RestaurantName}</h1>\r\n                        <p class=\"mb-0\">地址： ${e.Address}</p>\r\n                        <p class=\"mb-0\">營業時間： ${e.OpenTime}</p>`,\r\n            });\r\n          }\r\n        });\r\n      } else if (layer === 0) {\r\n        vm.marker.push({\r\n          position: {\r\n            lat: response.Position.PositionLat,\r\n            lng: response.Position.PositionLon,\r\n          },\r\n          infoText: `<h3 class=\"mb-1\">${response.RestaurantName}</h1>\r\n                     <p class=\"mb-0\">地址： ${response.Address}</p>\r\n                     <p class=\"mb-0\">營業時間： ${response.OpenTime}</p>`,\r\n        });\r\n      }\r\n    },\r\n    toggleMapInfo(marker, index) {\r\n      const vm = this;\r\n      vm.infoWindowPos = marker.position;\r\n      vm.infoOptions.content = marker.infoText;\r\n      if (vm.currentIndex === index) {\r\n        vm.infoWinOpen = !vm.infoWinOpen;\r\n      } else {\r\n        vm.infoWinOpen = true;\r\n        vm.currentIndex = index;\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    cityTranslate() {\r\n      const vm = this;\r\n      const city = [\r\n        '臺北市',\r\n        '新北市',\r\n        '桃園市',\r\n        '臺中市',\r\n        '臺南市',\r\n        '高雄市',\r\n        '基隆市',\r\n        '新竹市',\r\n        '新竹縣',\r\n        '苗栗縣',\r\n        '彰化縣',\r\n        '南投縣',\r\n        '雲林縣',\r\n        '嘉義縣',\r\n        '嘉義市',\r\n        '屏東縣',\r\n        '宜蘭縣',\r\n        '花蓮縣',\r\n        '臺東縣',\r\n        '金門縣',\r\n        '澎湖縣',\r\n        '連江縣',\r\n      ];\r\n      const cityEn = [\r\n        'Taipei',\r\n        'NewTaipei',\r\n        'Taoyuan',\r\n        'Taichung',\r\n        'Tainan',\r\n        'Kaohsiung',\r\n        'Keelung',\r\n        'Hsinchu',\r\n        'HsinchuCounty',\r\n        'MiaoliCounty',\r\n        'ChanghuaCounty',\r\n        'NantouCounty',\r\n        'YunlinCounty',\r\n        'ChiayiCounty',\r\n        'Chiayi',\r\n        'PingtungCounty',\r\n        'YilanCounty',\r\n        'HualienCounty',\r\n        'TaitungCounty',\r\n        'KinmenCounty',\r\n        'PenghuCounty',\r\n        'LienchiangCounty',\r\n      ];\r\n      const a = city.indexOf(vm.selectedCity);\r\n      if (vm.selectedCity === '') {\r\n        return '/';\r\n      } else if (vm.selectedCity === undefined) {\r\n        const addressSpot = vm.scenic[0].Address.slice(0, 3);\r\n        const b = city.indexOf(addressSpot);\r\n        return '/' + cityEn[b];\r\n      }\r\n      return '/' + cityEn[a];\r\n    },\r\n    getRestaurantThree() {\r\n      const vm = this;\r\n      const max = vm.restaurant.length;\r\n      const min = 1;\r\n      const rand = Math.floor(Math.random() * (max - min + 1));\r\n      const arr = [];\r\n      vm.restaurant.forEach((e, index) => {\r\n        if (index >= rand && index < rand + 3) {\r\n          arr.push(e);\r\n          vm.getMarker(e, 0);\r\n        }\r\n      });\r\n      return arr;\r\n    },\r\n  },\r\n  created() {\r\n    this.id = this.$route.params.id;\r\n    this.getScenicSpot();\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.w-100 {\r\n  width: 100%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScenePage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScenePage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ScenePage.vue?vue&type=template&id=62f1202f&scoped=true&\"\nimport script from \"./ScenePage.vue?vue&type=script&lang=js&\"\nexport * from \"./ScenePage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ScenePage.vue?vue&type=style&index=0&id=62f1202f&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"62f1202f\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VCard,VCardText,VCardTitle,VCol,VContainer,VImg,VRow})\n"],"sourceRoot":""}